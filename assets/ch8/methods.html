<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Chapter 8. Methods</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <h1>Everything is on the console!</h1>
    <input type="range" min="0" max="100" value="98" disabled>
    
    <ul style="float: right"><p>Click the list items to get the Ordinal (Not working)</p>
      <li>One</li>
      <li>Two</li>
      <li>Three</li>
      <li>Four</li>
    </ul>
    <ul style="float: left">
      <p>Click the list items to get the Ordinal (Working)</p>
      <li>One</li>
      <li>Two</li>
      <li>Three</li>
      <li>Four</li>
    </ul>
    <script>
      var shapeous = function () { // Shapeous app object
        "use strict";
        console.log("** Methods **");
        
        var a = ['a','b','c'];
        var b = ['x','y','z'];
        var c = a.concat(b, true);
        
        console.log
        ( '\nConcat:'
        , '\nArray a:', a
        , '\nArray b:', b
        , '\nArray c:', c
        );
        
        a.push('d');
        var d = a.join('');
        console.log
        ( "\nJoin:"
        , "\na.join(''):", d
        );
        
        var e = a.pop();
        console.log
        ( "\nPop:"
        , "\na.pop():", e
        , "\na      :", a
        );
        
        var f = a.push(b, true);
        console.log
        ( "\nPush:"
        , "\na.push(b, true):", f
        , "\na              :", a
        );
        
        a.pop();
        a.pop();
        var g = a.reverse();
        console.log
        ( "\nReverse:"
        , "\na.reverse():", g
        , "\na          :", a
        );
        a.reverse();
        
        var h = a.shift();
        console.log
        ( "\nShift:"
        , "\na.shift():", h
        , "\na        :", a
        );
        
        a = ['a','b','c'];
        var i = a.slice(0, 1);
        var j = a.slice(1);
        var k = a.slice(1, 2);
        console.log
        ( "\nSlice:"
        , "\na.slice(0, 1):", i
        , "\na.slice(1)   :", j
        , "\na.slice(1, 2):", k
        , "\na            :", a
        );
        
        var l = [4, 8, 15, 16, 23, 42];
        var m = l.sort();
        var n = [4, 8, 15, 16, 23, 42];
        var o = n.sort(function (left, right) {
          return left - right;
        });
        console.log
        ( "\nSort:"
        , "\nn.sort() [default compare        ]:", m
        , "\nn.sort() [custom compare num only]:", o
        );
        
        var p = ['aa', 'bb', 'a', 4, 8, 15, 16, 23, 'aa', 8, 42];
        p.sort(function (left, right) {
          var result = 0;
          if (left === right) {
            ;
          } else if (typeof left === typeof right) {
            result = left < right? -1 : 1;
          } else {
            result = typeof left < typeof right? -1 : 1;
          }
          return result;
        });
        console.log
        ( "\nSort:"
        , "\nn.sort() [custom compare num, str]:", p
        );
        
        console.log
        ( "\Function 'by' takes a member name string and an optional minor comparison function and returns"
        , "a comparison function that can be used to sort an array of objects that contain that member."
        , "The minor comparison function is used to break ties when the o[name] and p[name] are equal.");
        var by = function (name, minor) {
          return function (o, p) {
            var a, b;
            if (o && p && typeof o === 'object' && typeof p === 'object') {
              a = o[name];
              b = p[name];
              if (a === b) {
                return typeof minor === 'function'? minor(o, p) : 0;
              }
              if (typeof a === typeof b) {
                return a < b? -1 : 1;
              }
              return typeof a < typeof b? -1 : 1;
            } else {
              throw {
                "name": "Error"
              , "message": "Expecting an object when sorting by " + name
              };
            }
          };
        };
        
        var s =
        [ {"first": "Joe", "last": "Besser"}
        , {"first": "Moe", "last": "Howard"}
        , {"first": "Joe", "last": "DeRita"}
        , {"first": "Shemp", "last": "Howard"}
        , {"first": "Larry", "last": "Fine"}
        , {"first": "Curly", "last": "Howard"}
        ];
        
        console.log
        ( "\nSort By using two keys:  "
        , s.sort(by('last', by('first'))) // Multiple key sorting is now possible
        );
        
        var t =
        [ {"first": "Joe", "last": "Besser", "age": 10}
        , {"first": "Moe", "last": "Howard", "age": 23}
        , {"first": "Joe", "last": "DeRita", "age": 16}
        , {"first": "Shemp", "last": "Howard", "age": 1}
        , {"first": "Larry", "last": "Fine", "age": 10}
        , {"first": "Curly", "last": "Howard", "age": 9}
        ];
        
        console.log
        ( "\nSort By using three keys:"
        , t.sort(by('age', by('last', by('first'))))
        );
      }();
   </script>
  </body>
</html>
